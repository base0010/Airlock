{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap 0ca786e6d001bb040fab","webpack:///./config/config.ts","webpack:///external \"ethereumjs-util\"","webpack:///./src/initWeb3.ts","webpack:///external \"ethereumjs-wallet/hdkey\"","webpack:///external \"web3\"","webpack:///./src/index.ts","webpack:///./src/airlock.ts","webpack:///./src/generate.ts","webpack:///./src/createRawTx.ts","webpack:///external \"ethereumjs-tx\"","webpack:///./src/signTx.ts","webpack:///./src/sendTx.ts","webpack:///external \"jsonfile\""],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,O;ACVA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAK;AACL;AACA;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;AAEA;AACA;;;;;;;;AC7DA;AACA;AACA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;AChDA,4C;;;;;;;ACAA;AACA,8CAA8C,cAAc;AAC5D;AACA;AACA;;;;;;;ACJA,oD;;;;;;ACAA,iC;;;;;;;;;;;;;;ACAA;AACA,8CAA8C,cAAc;AAC5D;AACA;AACA,qBAAqB,2GAA2G;AAChI,KAAK,2GAA2G;AAChH,uBAAuB,kFAAkF,GAAG,kFAAkF,GAAG,mFAAmF,GAAG,kFAAkF,GAAG,kFAAkF,GAAG,mFAAmF,GAAG,kFAAkF,GAAG,kFAAkF,GAAG,mFAAmF,GAAG,kFAAkF,GAAG,kFAAkF,GAAG,mFAAmF,GAAG,kFAAkF,GAAG,kFAAkF,GAAG,mFAAmF,GAAG,kFAAkF,GAAG,kFAAkF,GAAG,mFAAmF,GAAG,kFAAkF,GAAG,kFAAkF,GAAG,mFAAmF,GAAG,kFAAkF,GAAG,kFAAkF,GAAG;AACj8D;AACA;AACA;AACA;;;;;;;;ACVA;AACA;AACA;AACA,mCAAmC,MAAM,6BAA6B,EAAE,YAAY,WAAW,EAAE;AACjG,kCAAkC,MAAM,iCAAiC,EAAE,YAAY,WAAW,EAAE;AACpG,+BAA+B,iEAAiE,uBAAuB,EAAE,4BAA4B;AACrJ;AACA,KAAK;AACL;AACA;AACA,aAAa,6BAA6B,0BAA0B,aAAa,EAAE,qBAAqB;AACxG,gBAAgB,qDAAqD,oEAAoE,aAAa,EAAE;AACxJ,sBAAsB,sBAAsB,qBAAqB,GAAG;AACpE;AACA;AACA;AACA;AACA;AACA;AACA,uCAAuC;AACvC,kCAAkC,SAAS;AAC3C,kCAAkC,WAAW,UAAU;AACvD,yCAAyC,cAAc;AACvD;AACA,6GAA6G,OAAO,UAAU;AAC9H,gFAAgF,iBAAiB,OAAO;AACxG,wDAAwD,gBAAgB,QAAQ,OAAO;AACvF,8CAA8C,gBAAgB,gBAAgB,OAAO;AACrF;AACA,iCAAiC;AACjC;AACA;AACA,SAAS,YAAY,aAAa,OAAO,EAAE,UAAU,WAAW;AAChE,mCAAmC,SAAS;AAC5C;AACA;AACA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wDAAwD;AACxD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB,aAAa,EAAE,EAAE;AACjB;AACA,SAAS;AACT,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oEAAoE;AACpE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB,qBAAqB,EAAE,EAAE;AACzB;AACA;AACA,SAAS;AACT,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;;;;;;;ACxJA;AACA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,WAAW;AAC9B,uBAAuB,4BAA4B;AACnD;AACA;AACA;AACA;AACA,wBAAwB;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;AC/BA;AACA;AACA;AACA,mCAAmC,MAAM,6BAA6B,EAAE,YAAY,WAAW,EAAE;AACjG,kCAAkC,MAAM,iCAAiC,EAAE,YAAY,WAAW,EAAE;AACpG,+BAA+B,iEAAiE,uBAAuB,EAAE,4BAA4B;AACrJ;AACA,KAAK;AACL;AACA;AACA,aAAa,6BAA6B,0BAA0B,aAAa,EAAE,qBAAqB;AACxG,gBAAgB,qDAAqD,oEAAoE,aAAa,EAAE;AACxJ,sBAAsB,sBAAsB,qBAAqB,GAAG;AACpE;AACA;AACA;AACA;AACA;AACA;AACA,uCAAuC;AACvC,kCAAkC,SAAS;AAC3C,kCAAkC,WAAW,UAAU;AACvD,yCAAyC,cAAc;AACvD;AACA,6GAA6G,OAAO,UAAU;AAC9H,gFAAgF,iBAAiB,OAAO;AACxG,wDAAwD,gBAAgB,QAAQ,OAAO;AACvF,8CAA8C,gBAAgB,gBAAgB,OAAO;AACrF;AACA,iCAAiC;AACjC;AACA;AACA,SAAS,YAAY,aAAa,OAAO,EAAE,UAAU,WAAW;AAChE,mCAAmC,SAAS;AAC5C;AACA;AACA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kFAAkF,gBAAgB,EAAE;AACpG;AACA,SAAS;AACT,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mIAAmI,+BAA+B;AAClK,iHAAiH,iBAAiB,EAAE;AACpI;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kFAAkF,gBAAgB,EAAE;AACpG;AACA,SAAS;AACT,KAAK;AACL;AACA;;;;;;;ACpIA,0C;;;;;;;ACAA;AACA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;AC3BA;AACA;AACA;AACA,mCAAmC,MAAM,6BAA6B,EAAE,YAAY,WAAW,EAAE;AACjG,kCAAkC,MAAM,iCAAiC,EAAE,YAAY,WAAW,EAAE;AACpG,+BAA+B,iEAAiE,uBAAuB,EAAE,4BAA4B;AACrJ;AACA,KAAK;AACL;AACA;AACA,aAAa,6BAA6B,0BAA0B,aAAa,EAAE,qBAAqB;AACxG,gBAAgB,qDAAqD,oEAAoE,aAAa,EAAE;AACxJ,sBAAsB,sBAAsB,qBAAqB,GAAG;AACpE;AACA;AACA;AACA;AACA;AACA;AACA,uCAAuC;AACvC,kCAAkC,SAAS;AAC3C,kCAAkC,WAAW,UAAU;AACvD,yCAAyC,cAAc;AACvD;AACA,6GAA6G,OAAO,UAAU;AAC9H,gFAAgF,iBAAiB,OAAO;AACxG,wDAAwD,gBAAgB,QAAQ,OAAO;AACvF,8CAA8C,gBAAgB,gBAAgB,OAAO;AACrF;AACA,iCAAiC;AACjC;AACA;AACA,SAAS,YAAY,aAAa,OAAO,EAAE,UAAU,WAAW;AAChE,mCAAmC,SAAS;AAC5C;AACA;AACA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+EAA+E,qBAAqB,EAAE;AACtG;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA,SAAS;AACT,KAAK;AACL;AACA;;;;;;;ACtEA,qC","file":"index.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"airlock\"] = factory();\n\telse\n\t\troot[\"airlock\"] = factory();\n})(typeof self !== 'undefined' ? self : this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 5);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 0ca786e6d001bb040fab","\"use strict\";\n/********************************************************* */\nObject.defineProperty(exports, \"__esModule\", { value: true });\n//Server Address Generation \n//Prerequisites\nexports.xPubKey = 'xpub6DdBrneLakvk2oVgz4e7b19j8ts9ERVuct2SpAXVZisDh4XVeQiDcijCpiheZCG5qsazcs34TztU4zcFwRvea814qfQS8mnd5mRNBLudjyr';\n//KDF in Javascript can suck so this is where we break it up into multiple runs >= 100000 \nexports.numAddresses = 100000;\nexports.maxAddressesPerThread = 100000;\n//Output\nexports.addressGenerationJson = './ethaddresses.json';\n/********************************************************** */\n//Transaction Generation \n//Prerequisites\nexports.sweepAddress = '0x0000000000000000000000000000000000000000';\nexports.relayAddress = '0x0000000000000000000000000000000000000000';\nexports.chainId = 1;\nexports.deployerAddress = '0x8d4d6dd078040f26d3fd2abc31dede775e7c9921';\nexports.tokenContractAddress = '0x2a5ebb2d8ef55ac4d71c7fbb2e72e8f9e31717a5';\nexports.gasPricePadding = 0;\nexports.HSToken = '../contractJSON/HumanStandardToken.json';\n//Outputs\nexports.unsignedDistributionTXJson = './unsigneddisttxs.json';\nexports.unsignedSweepingTXJson = './unsignedsweepingtxs.json';\n/********************************************************* */\n//Transaction Signing / AirGapped Machine\n//Prerequisites\nexports.xPrivKey = '';\nexports.deployerPrivKey = '';\n//Outputs\nexports.signedDistributionTXJson = './signeddisttxs.json';\nexports.signedSweepingTXJson = './signedsweepingtxs.json';\n/******************************************************** */\n//Transaction Broadcasting \nexports.Web3Provider = 'https://mainnet.infura.io/iKBFpdZseWhnroKOwKfj';\n//EXTRA CONFIGS \n//Rinkeby\n//  export const chainId:number = 4\n//  //ETH conn. params\n//  export const Web3Provider: string = 'wss://rinkeby.infura.io/ws'\n//Mainnet\n// export const chainId:number = 1\n// //ETH conn. params\n// export const Web3Provider: string = 'wss://mainnet.infura.io/ws'\n//LocalChain Geth\n//chainId: 1994\n//localhost:8545\n//Websockets\n//export const Web3Provider: string = 'ws://127.0.0.1:8546'\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./config/config.ts\n// module id = 0\n// module chunks = 0","module.exports = require(\"ethereumjs-util\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"ethereumjs-util\"\n// module id = 1\n// module chunks = 0","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar config = require(\"../config/config\");\nvar Web3 = require('web3');\nexports.instantiatedWeb3 = new Web3(config.Web3Provider);\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/initWeb3.ts\n// module id = 2\n// module chunks = 0","module.exports = require(\"ethereumjs-wallet/hdkey\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"ethereumjs-wallet/hdkey\"\n// module id = 3\n// module chunks = 0","module.exports = require(\"web3\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"web3\"\n// module id = 4\n// module chunks = 0","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar airlock_1 = require(\"./airlock\");\n//Example of JSON Schemas\nvar sweepingObjs = [{ \"from\": \"0x91032d823bdd04d1d51914787f3ce3ab8196809e\", \"value\": \"5742021449483180\", \"derivationPath\": \"1\" },\n    { \"from\": \"0x9908b4a736e2aee9acdbe14cd4a49c375c3a94a9\", \"value\": \"5742021449483180\", \"derivationPath\": \"0\" }];\nvar distributeOjbs = [{ \"relayAddress\": \"0x91032d823bdd04d1d51914787f3ce3ab8196809e\", \"numTokens\": 1000 }, { \"relayAddress\": \"0x91032d823bdd04d1d51914787f3ce3ab8196809e\", \"numTokens\": 1000 }, { \"relayAddress\": \"0x9908b4a736e2aee9acdbe14cd4a49c375c3a94a9\", \"numTokens\": 10000 }, { \"relayAddress\": \"0x91032d823bdd04d1d51914787f3ce3ab8196809e\", \"numTokens\": 1000 }, { \"relayAddress\": \"0x91032d823bdd04d1d51914787f3ce3ab8196809e\", \"numTokens\": 1000 }, { \"relayAddress\": \"0x9908b4a736e2aee9acdbe14cd4a49c375c3a94a9\", \"numTokens\": 10000 }, { \"relayAddress\": \"0x91032d823bdd04d1d51914787f3ce3ab8196809e\", \"numTokens\": 1000 }, { \"relayAddress\": \"0x91032d823bdd04d1d51914787f3ce3ab8196809e\", \"numTokens\": 1000 }, { \"relayAddress\": \"0x9908b4a736e2aee9acdbe14cd4a49c375c3a94a9\", \"numTokens\": 10000 }, { \"relayAddress\": \"0x91032d823bdd04d1d51914787f3ce3ab8196809e\", \"numTokens\": 1000 }, { \"relayAddress\": \"0x91032d823bdd04d1d51914787f3ce3ab8196809e\", \"numTokens\": 1000 }, { \"relayAddress\": \"0x9908b4a736e2aee9acdbe14cd4a49c375c3a94a9\", \"numTokens\": 10000 }, { \"relayAddress\": \"0x91032d823bdd04d1d51914787f3ce3ab8196809e\", \"numTokens\": 1000 }, { \"relayAddress\": \"0x91032d823bdd04d1d51914787f3ce3ab8196809e\", \"numTokens\": 1000 }, { \"relayAddress\": \"0x9908b4a736e2aee9acdbe14cd4a49c375c3a94a9\", \"numTokens\": 10000 }, { \"relayAddress\": \"0x91032d823bdd04d1d51914787f3ce3ab8196809e\", \"numTokens\": 1000 }, { \"relayAddress\": \"0x91032d823bdd04d1d51914787f3ce3ab8196809e\", \"numTokens\": 1000 }, { \"relayAddress\": \"0x9908b4a736e2aee9acdbe14cd4a49c375c3a94a9\", \"numTokens\": 10000 }, { \"relayAddress\": \"0x91032d823bdd04d1d51914787f3ce3ab8196809e\", \"numTokens\": 1000 }, { \"relayAddress\": \"0x91032d823bdd04d1d51914787f3ce3ab8196809e\", \"numTokens\": 1000 }, { \"relayAddress\": \"0x9908b4a736e2aee9acdbe14cd4a49c375c3a94a9\", \"numTokens\": 10000 }, { \"relayAddress\": \"0x91032d823bdd04d1d51914787f3ce3ab8196809e\", \"numTokens\": 1000 }, { \"relayAddress\": \"0x91032d823bdd04d1d51914787f3ce3ab8196809e\", \"numTokens\": 1000 }, { \"relayAddress\": \"0x9908b4a736e2aee9acdbe14cd4a49c375c3a94a9\", \"numTokens\": 10000 }\n];\n//sweepFunds(sweepingObjs)\n//createAddresses(1000000)\nairlock_1.distributeTokens(distributeOjbs);\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/index.ts\n// module id = 6\n// module chunks = 0","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = y[op[0] & 2 ? \"return\" : op[0] ? \"throw\" : \"next\"]) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [0, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar generate_1 = require(\"./generate\");\nvar createRawTx_1 = require(\"./createRawTx\");\nvar signTx_1 = require(\"./signTx\");\nvar sendTx_1 = require(\"./sendTx\");\nvar initWeb3_1 = require(\"./initWeb3\");\nvar config = require(\"../config/config\");\nvar Util = require(\"ethereumjs-util\");\nvar Jsonfile = require(\"jsonfile\");\nvar Web3 = require('web3');\nvar web3 = new Web3(config.Web3Provider);\n//************TO GENERATE ADDRESSES ****************/\nfunction createAddresses(num) {\n    saveToJSON(generate_1.generateAddresses(num, generate_1.createWallet()), config.addressGenerationJson);\n}\nexports.createAddresses = createAddresses;\n// *************CREATE, SIGN, BROADCAST AND WAIT FOR TRANSACTION TO CONFIRM */\n// ************************************************************************ */\nfunction sweepFunds(sweepingList) {\n    return __awaiter(this, void 0, void 0, function () {\n        var _this = this;\n        var signedJson, unsignedJson;\n        return __generator(this, function (_a) {\n            console.log('Sweeping funds to', sweepingList.length, 'addresses');\n            signedJson = [];\n            unsignedJson = [];\n            sweepingList.forEach(function (obj, index) { return __awaiter(_this, void 0, void 0, function () {\n                var fromAddress, value, hdIndex, rawTx, signedTx, _a;\n                return __generator(this, function (_b) {\n                    switch (_b.label) {\n                        case 0:\n                            fromAddress = obj.from;\n                            value = Number(obj.value);\n                            hdIndex = Number(obj.derivationPath);\n                            return [4 /*yield*/, createRawTx_1.createSweepTx(fromAddress, value)];\n                        case 1:\n                            rawTx = _b.sent();\n                            unsignedJson.push(rawTx.serialize().toString('hex'));\n                            _a = '0x';\n                            return [4 /*yield*/, signTx_1.signTxHD(hdIndex, rawTx).serialize().toString('hex')];\n                        case 2:\n                            signedTx = _a + (_b.sent());\n                            signedJson.push(signedTx);\n                            if (index == sweepingList.length - 1) {\n                                console.log('signedTX JSON: ', signedJson);\n                                console.log('unsignedTX JSON', unsignedJson);\n                                saveToJSON(signedJson, config.signedSweepingTXJson);\n                                saveToJSON(unsignedJson, config.unsignedSweepingTXJson);\n                            }\n                            return [4 /*yield*/, sendTx_1.sendTransaction(signedTx)];\n                        case 3:\n                            _b.sent();\n                            return [2 /*return*/];\n                    }\n                });\n            }); });\n            return [2 /*return*/];\n        });\n    });\n}\nexports.sweepFunds = sweepFunds;\nfunction distributeTokens(distributionList) {\n    return __awaiter(this, void 0, void 0, function () {\n        var _this = this;\n        var buferedPrivKey, json, initalNonce;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    console.log('distributing  tokens to', distributionList.length, 'users');\n                    buferedPrivKey = Util.toBuffer('0x' + config.deployerPrivKey);\n                    json = [];\n                    return [4 /*yield*/, initWeb3_1.instantiatedWeb3.eth.getTransactionCount(config.deployerAddress)];\n                case 1:\n                    initalNonce = _a.sent();\n                    distributionList.forEach(function (obj, index) { return __awaiter(_this, void 0, void 0, function () {\n                        var relayAddress, numTokens, rawTx, signedTx, _a;\n                        return __generator(this, function (_b) {\n                            switch (_b.label) {\n                                case 0:\n                                    relayAddress = obj.relayAddress;\n                                    numTokens = obj.numTokens;\n                                    return [4 /*yield*/, createRawTx_1.distributeTokenTx(relayAddress, numTokens, initalNonce + index)];\n                                case 1:\n                                    rawTx = _b.sent();\n                                    _a = '0x';\n                                    return [4 /*yield*/, signTx_1.signTx(buferedPrivKey, rawTx).serialize().toString('hex')];\n                                case 2:\n                                    signedTx = _a + (_b.sent());\n                                    json.push(signedTx);\n                                    if (index == distributionList.length - 1) {\n                                        console.log('signedTX JSON: ', json);\n                                        saveToJSON(json, config.signedDistributionTXJson);\n                                    }\n                                    return [4 /*yield*/, sendTx_1.sendTransaction(signedTx)];\n                                case 3:\n                                    _b.sent();\n                                    return [2 /*return*/];\n                            }\n                        });\n                    }); });\n                    return [2 /*return*/];\n            }\n        });\n    });\n}\nexports.distributeTokens = distributeTokens;\nfunction saveToJSON(json, filename) {\n    Jsonfile.writeFile(filename, json, 'utf8', function (err, content) {\n        if (err) {\n            console.log(err);\n            return err;\n        }\n        console.log(\"Wrote\", filename);\n        return;\n    });\n}\nexports.saveToJSON = saveToJSON;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/airlock.ts\n// module id = 7\n// module chunks = 0","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar HDKey = require(\"ethereumjs-wallet/hdkey\");\nvar Utils = require(\"ethereumjs-util\");\nvar config = require(\"../config/config\");\nfunction createWallet() {\n    var HDWallet = HDKey.fromExtendedKey(config.xPubKey);\n    return HDWallet;\n}\nexports.createWallet = createWallet;\nfunction generateAddresses(numAddresses, HDWallet) {\n    var json = [];\n    var runs = 1;\n    var maxAddressesPerTheread = config.maxAddressesPerThread;\n    if (numAddresses > maxAddressesPerTheread)\n        runs = numAddresses / maxAddressesPerTheread;\n    //mod math needs to go here\n    for (var j = 1; j <= runs; j++) {\n        for (var i = 0; i < maxAddressesPerTheread; i++) {\n            var childPath = HDWallet.deriveChild(i);\n            var publicKeyBuffer = childPath._hdkey._publicKey;\n            var checksumAddress = Utils.bufferToHex(Utils.pubToAddress(publicKeyBuffer, true));\n            var HDString = i.toString();\n            var addr = { address: checksumAddress, currency: 2, derivationPath: HDString };\n            json.push(addr);\n        }\n    }\n    console.log('generating addressses');\n    console.log(json);\n    return json;\n}\nexports.generateAddresses = generateAddresses;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/generate.ts\n// module id = 8\n// module chunks = 0","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = y[op[0] & 2 ? \"return\" : op[0] ? \"throw\" : \"next\"]) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [0, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar EthTx = require(\"ethereumjs-tx\");\nvar config = require(\"../config/config\");\nvar initWeb3_1 = require(\"./initWeb3\");\n//TX generation helper functions\nfunction getAccountNonce(account) {\n    return __awaiter(this, void 0, void 0, function () {\n        var accountNonce;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0: return [4 /*yield*/, initWeb3_1.instantiatedWeb3.eth.getTransactionCount(account)];\n                case 1:\n                    accountNonce = _a.sent();\n                    return [2 /*return*/, accountNonce];\n            }\n        });\n    });\n}\nexports.getAccountNonce = getAccountNonce;\nfunction getLastGasPrice() {\n    return __awaiter(this, void 0, void 0, function () {\n        var gasPrice;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0: return [4 /*yield*/, initWeb3_1.instantiatedWeb3.eth.getGasPrice()];\n                case 1:\n                    gasPrice = _a.sent();\n                    return [2 /*return*/, gasPrice];\n            }\n        });\n    });\n}\nexports.getLastGasPrice = getLastGasPrice;\nfunction createSweepTx(from, value) {\n    return __awaiter(this, void 0, void 0, function () {\n        var reportedNonce, lastBlockGasPrice, gasPriceNumber, plaintextTx, rawTx;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0: return [4 /*yield*/, initWeb3_1.instantiatedWeb3.eth.getTransactionCount(from)];\n                case 1:\n                    reportedNonce = _a.sent();\n                    return [4 /*yield*/, getLastGasPrice()];\n                case 2:\n                    lastBlockGasPrice = _a.sent();\n                    gasPriceNumber = Number(lastBlockGasPrice);\n                    plaintextTx = {\n                        nonce: reportedNonce,\n                        gas: 21476,\n                        gasPrice: gasPriceNumber,\n                        to: config.sweepAddress,\n                        value: 10000,\n                        data: '',\n                        chainId: config.chainId\n                    };\n                    console.log('the nonce for the tx is', plaintextTx.nonce);\n                    console.log('Last block gas price in Wei', plaintextTx.gasPrice);\n                    rawTx = new EthTx(plaintextTx);\n                    console.log('raw ETH tx ' + rawTx.serialize().toString('hex'));\n                    return [2 /*return*/, new Promise(function (resolve, reject) { resolve(rawTx); })];\n            }\n        });\n    });\n}\nexports.createSweepTx = createSweepTx;\nfunction distributeTokenTx(relayAddress, amount, _nonce) {\n    return __awaiter(this, void 0, void 0, function () {\n        var tokenAdministratorAddress, TokenContract, lastBlockGasPrice, gasPriceNumber, plaintextTx, rawTx;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    tokenAdministratorAddress = config.deployerAddress;\n                    TokenContract = new initWeb3_1.instantiatedWeb3.eth.Contract(config.HSToken.abi, config.tokenContractAddress, { from: config.deployerAddress });\n                    return [4 /*yield*/, initWeb3_1.instantiatedWeb3.eth.getGasPrice().then(function (gasPrice) { return gasPrice; })];\n                case 1:\n                    lastBlockGasPrice = _a.sent();\n                    gasPriceNumber = Number(lastBlockGasPrice);\n                    console.log('method', TokenContract.methods.transfer(relayAddress, amount).encodeABI());\n                    plaintextTx = {\n                        nonce: _nonce,\n                        //BN here\n                        gas: 100000,\n                        gasPrice: gasPriceNumber + config.gasPricePadding,\n                        to: config.tokenContractAddress,\n                        value: 0,\n                        data: TokenContract.methods.approveAndCall(relayAddress, amount, '0x00').encodeABI(),\n                        chainId: config.chainId\n                    };\n                    console.log('the nonce for the tx is', plaintextTx.nonce);\n                    console.log('Last block gas price in Wei', plaintextTx.gasPrice);\n                    rawTx = new EthTx(plaintextTx);\n                    console.log('raw ETH tx ' + rawTx.serialize().toString('hex'));\n                    return [2 /*return*/, new Promise(function (resolve, reject) { resolve(rawTx); })];\n            }\n        });\n    });\n}\nexports.distributeTokenTx = distributeTokenTx;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/createRawTx.ts\n// module id = 9\n// module chunks = 0","module.exports = require(\"ethereumjs-tx\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"ethereumjs-tx\"\n// module id = 10\n// module chunks = 0","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar HDWallet = require('ethereumjs-wallet/hdkey');\nvar Util = require('ethereumjs-util');\nvar config = require(\"../config/config\");\nvar wallet = HDWallet.fromExtendedKey(config.xPrivKey);\nfunction derivePrivKey(HDindex) {\n    var instance = wallet.deriveChild(HDindex);\n    console.log('signing with address: ', '0x' + Util.pubToAddress(instance._hdkey._publicKey, true).toString('hex'));\n    var privKey = instance._hdkey._privateKey;\n    //logout ETH PrivateKey VERY UNSAFE DELETE BEFORE PRODUCTION!!!\n    console.log('private key', privKey.toString('hex'));\n    return privKey;\n}\nexports.derivePrivKey = derivePrivKey;\nfunction signTxHD(HDindex, RawTx) {\n    var privateKey = derivePrivKey(HDindex);\n    RawTx.sign(privateKey);\n    console.log('signed serialized TX', '0x' + RawTx.serialize().toString('hex'));\n    return RawTx;\n}\nexports.signTxHD = signTxHD;\nfunction signTx(privateKey, RawTx) {\n    RawTx.sign(privateKey);\n    console.log('signed serialized TX', '0x' + RawTx.serialize().toString('hex'));\n    return RawTx;\n}\nexports.signTx = signTx;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/signTx.ts\n// module id = 11\n// module chunks = 0","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = y[op[0] & 2 ? \"return\" : op[0] ? \"throw\" : \"next\"]) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [0, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar initWeb3_1 = require(\"./initWeb3\");\nfunction sendTransaction(signedRawTx) {\n    return __awaiter(this, void 0, void 0, function () {\n        var promiEvent, tx_reciept;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    promiEvent = initWeb3_1.instantiatedWeb3.eth.sendSignedTransaction(signedRawTx, function (error, result) {\n                        //lets fucking break e,r callback convention here, just cause...smh\n                        if (error) {\n                            console.log(error);\n                            //do some actual error logging\n                        }\n                        else\n                            console.log('We broadcast the Transaction!, txHash: ', result);\n                    });\n                    return [4 /*yield*/, promiEvent.on('receipt').then(function (txReceipt, err) {\n                            if (err) {\n                                console.log('dont know it it made it to a block but we made it this far, add txHash to the db and check later');\n                                return;\n                            }\n                            else {\n                                console.log('Transaction made it into a block! ', 'txIndex', txReceipt.transactionIndex);\n                                return new Promise(function (resolve, reject) { resolve(tx_reciept); });\n                            }\n                        })];\n                case 1:\n                    tx_reciept = _a.sent();\n                    return [2 /*return*/];\n            }\n        });\n    });\n}\nexports.sendTransaction = sendTransaction;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/sendTx.ts\n// module id = 12\n// module chunks = 0","module.exports = require(\"jsonfile\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"jsonfile\"\n// module id = 13\n// module chunks = 0"],"sourceRoot":""}